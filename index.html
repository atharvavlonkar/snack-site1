<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>School Snack Shop</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
:root {
  --bg: #f2f2f2;
  --box: white;
  --text: #000;
}
.dark {
  --bg: #121212;
  --box: #1e1e1e;
  --text: #fff;
}
body {
  font-family: Arial, sans-serif;
  background: var(--bg);
  color: var(--text);
  padding: 20px;
}
h1,h2 { text-align: center; }
.box {
  background: var(--box);
  max-width: 800px;
  margin: auto;
  padding: 15px;
  border-radius: 10px;
  margin-bottom: 20px;
}
.product {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  margin-bottom: 10px;
}
.product img {
  width: 60px;
  height: 60px;
  object-fit: contain;
}
.cart-item,.admin-row {
  display: flex;
  justify-content: space-between;
  margin-bottom: 8px;
}
button {
  padding: 6px 10px;
  cursor: pointer;
}
.out {
  color: red;
  font-weight: bold;
}
input, textarea {
  width: 100%;
  padding: 6px;
  margin-bottom: 8px;
}
.hidden { display: none; }
.toggle {
  position: fixed;
  top: 10px;
  right: 10px;
}
</style>
</head>

<body>

<button class="toggle" onclick="toggleDark()">ðŸŒ™</button>

<h1>School Snack Shop</h1>

<div class="box">
<h2>Menu</h2>
<div id="productList"></div>
</div>

<div class="box">
<h2>Cart</h2>
<div id="cartItems">Cart is empty</div>
<p><strong>Total: $<span id="total">0.00</span></strong></p>
</div>

<div class="box">
<h2>Checkout</h2>
<input type="email" id="email" placeholder="Your email" required>
<input type="text" placeholder="Day you want to buy">
<input type="time">
<textarea placeholder="Notes (optional)"></textarea>
<button onclick="checkout()">Place Order</button>
<p id="status"></p>
</div>

<div class="box">
<h2>Admin Panel</h2>
<input type="password" id="adminPass" placeholder="Admin password">
<button onclick="unlockAdmin()">Unlock</button>
<div id="adminPanel" class="hidden"></div>
</div>

<script>
const ADMIN_PASSWORD = "9813";

const products = {
  "Takis": {
    price: 1.00,
    img: "data:image/png;base64,PASTE_TAKIS_BASE64"
  },
  "Gatorade Orange": {
    price: 1.50,
    img: "data:image/png;base64,PASTE_ORANGE_BASE64"
  },
  "Gatorade Green": {
    price: 1.50,
    img: "data:image/png;base64,PASTE_GREEN_BASE64"
  },
  "Gatorade Red": {
    price: 1.50,
    img: "data:image/png;base64,PASTE_RED_BASE64"
  },
  "Gum Polar Ice": {
    price: 0.20,
    img: "data:image/png;base64,PASTE_POLAR_BASE64"
  },
  "Gum Peppermint": {
    price: 0.20,
    img: "data:image/png;base64,PASTE_PEPPERMINT_BASE64"
  }
};

let stock = JSON.parse(localStorage.getItem("stock")) || {
  "Takis": 20,
  "Gatorade Red": 15,
  "Gatorade Orange": 15,
  "Gatorade Green": 15,
  "Gum Polar Ice": 30,
  "Gum Peppermint": 30
};

let cart = {};
let dark = localStorage.getItem("dark") === "true";
if (dark) document.body.classList.add("dark");

function saveStock() {
  localStorage.setItem("stock", JSON.stringify(stock));
}

function renderProducts() {
  const list = document.getElementById("productList");
  list.innerHTML = "";

  for (let item in products) {
    const s = stock[item];
    const p = products[item];
    const div = document.createElement("div");
    div.className = "product";

    if (s <= 0) {
      div.innerHTML = `
        <img src="${p.img}">
        <span>${item} - $${p.price.toFixed(2)}</span>
        <span class="out">OUT</span>`;
    } else {
      div.innerHTML = `
        <img src="${p.img}">
        <span>${item} - $${p.price.toFixed(2)} (Stock: ${s})</span>
        <button onclick="addToCart('${item}')">Add</button>`;
    }
    list.appendChild(div);
  }
}

function addToCart(item) {
  if (stock[item] <= 0) return;
  cart[item] = (cart[item] || 0) + 1;
  stock[item]--;
  saveStock();
  renderProducts();
  renderCart();
}

function removeFromCart(item) {
  cart[item]--;
  stock[item]++;
  if (cart[item] <= 0) delete cart[item];
  saveStock();
  renderProducts();
  renderCart();
}

function renderCart() {
  const div = document.getElementById("cartItems");
  div.innerHTML = "";
  let total = 0;

  for (let item in cart) {
    total += cart[item] * products[item].price;
    div.innerHTML += `
      <div class="cart-item">
        <span>${item} x${cart[item]}</span>
        <button onclick="removeFromCart('${item}')">Remove</button>
      </div>`;
  }

  if (!Object.keys(cart).length) div.innerHTML = "Cart is empty";
  document.getElementById("total").innerText = total.toFixed(2);
}

function checkout() {
  if (!email.value) return alert("Email required");
  document.getElementById("status").innerText =
    "Order placed! Screenshot this confirmation.";
  cart = {};
  renderCart();
}

function unlockAdmin() {
  if (adminPass.value !== ADMIN_PASSWORD) return alert("Wrong password");
  const panel = document.getElementById("adminPanel");
  panel.classList.remove("hidden");
  panel.innerHTML = "";

  for (let item in stock) {
    panel.innerHTML += `
      <div class="admin-row">
        <span>${item}</span>
        <input type="number" value="${stock[item]}" min="0"
          onchange="updateStock('${item}', this.value)">
      </div>`;
  }
}

function updateStock(item, value) {
  stock[item] = parseInt(value) || 0;
  saveStock();
  renderProducts();
}

function toggleDark() {
  dark = !dark;
  document.body.classList.toggle("dark");
  localStorage.setItem("dark", dark);
}

renderProducts();
</script>

</body>
</html>




